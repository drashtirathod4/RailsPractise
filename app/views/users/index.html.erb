<style>
  /* stype for typeahead */
  .tt-menu,
  .gist {
    text-align: left;
  }

.typeahead,
.tt-query,
.tt-hint {
  width: 396px;
  height: 30px;
  padding: 8px 12px;
  font-size: 24px;
  line-height: 30px;
  border: 2px solid #ccc;
  -webkit-border-radius: 8px;
     -moz-border-radius: 8px;
          border-radius: 8px;
  outline: none;
}

.typeahead {
  background-color: #fff;
}

.typeahead:focus {
  border: 2px solid #0097cf;
}

.tt-query {
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
     -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
          box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}

.tt-hint {
  color: #999
}

.tt-menu {
  width: 422px;
  margin: 12px 0;
  padding: 8px 0;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  -webkit-border-radius: 8px;
     -moz-border-radius: 8px;
          border-radius: 8px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);
     -moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);
          box-shadow: 0 5px 10px rgba(0,0,0,.2);
}

  .tt-suggestion {
    padding: 3px 20px;
    font-size: 18px;
    line-height: 24px;
  }

  .tt-suggestion:hover {
    cursor: pointer;
    color: #fff;
    background-color: #0097cf;
  }

  .tt-suggestion.tt-cursor {
    color: #fff;
    background-color: #0097cf;

  }

  .tt-suggestion p {
    margin: 0;
  }

  #search {
    background-color: #555555;
    border-radius: 13px;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    /* margin-bottom: 50px; */
  }
</style>
<center>
  <h1>List of Users</h1>
  <div id="query">
    <%= form_tag users_path, method: :get, local: true do |f| %>
      <%= text_field_tag :query, params[:query], autocomplete: :on, class:"typeahead", placeholder: 'Search' %>
      <%= button_tag "Search", name: nil, id: "search" %>
    <% end %><br><br>
  </div>
  <table cellpadding="15px" border="1px">
      <tr>
        <td><b>User Name</b></td>
        <td><b>Phone Number</b></td>
        <td><b>Email</b></td>
        <td><b>DOB</b></td>
        <td><b>Course</b></td>
        <td><b>Start Date</b></td>
        <td><b>End Date</b></td>
        <td><b>View</b></td>
        <td><b>Edit</b></td>
        <td><b>Remove</b></td>
      </tr>
      <% @users.each do |user| %>
      <tr>
        <td><b><%= user.name %></b></td>
        <td><%= user.phone %></td>
        <td><%= user.email %></td>
        <td><%= user.dob %></td>
        <td><%= user.course %></td>
        <td><%= user.start_date %></td>
        <td><%= user.end_date %></td>
        <td><%= button_to "View", user_path(user), method: :get %></td>
        <td><%= button_to "Edit", edit_user_path(user), method: :get %></td>
        <td><%= button_to 'Remove', user_path(user), method: 'delete' %></td>
      </tr>
    <% end %>
    <tr>
      <td colspan="10" align="center"><%= button_to "Add new User", new_user_path, method: :get%></td>
    </tr>
  </table>
</center>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<%= render 'typeahead' %>
<script>
    var users = new Bloodhound({
      datumTokenizer: Bloodhound.tokenizers.whitespace,
      queryTokenizer: Bloodhound.tokenizers.whitespace,
      remote: {
        url: '/users/autocomplete?query=%QUERY',
        wildcard: '%QUERY'
      }
    });
    $('#query .typeahead').typeahead({
      hint: true,
      highlight: true,
      minLength: 1
    },
    {
      name: 'users',
      source: users
    });
</script>
